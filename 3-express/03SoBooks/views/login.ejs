<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>登录注册页面</title>
    <link rel="stylesheet" href="/css/login.css">
    <link rel="stylesheet" href="/css/demo.css">
</head>
<script src="/js/jquery-1.7.2.js"></script>
<script src="/js/ban.js"></script>

<body>
    <canvas class="cavs" width="1575" height="1337"></canvas>

    <div class="loginmain">

        <section id="content">
            <div class="content-header clearfix">
                <a href="javascript:;" class="current">登陆</a>
                <a href="javascript:;">我要注册</a>
            </div>

            <div class="content-body">
                <div class="dom" style="display: block">
                    <!-- 登录 -->
                    <form action="/login" method="POST">
                        <div class="s1">
                            <h4>账户</h4>
                            <input type="text" name="username" placeholder="用户名/手机/邮箱">
                        </div>
                        <div class="s1">
                            <h4>密码</h4>
                            <input type="password" name="password" placeholder="请输入密码">
                        </div>
                        <div class="s2">
                            <input type="checkbox">
                            <span>记住密码</span>
                        </div>
                        <input type="submit" class="btn" value="登&nbsp;陆">
                    </form>
                    <div class="dom-footer">
                        <div class="login-another">
                            <a href="#">找回密码</a>
                            <span>|</span>
                            <span>还没有注册帐号?</span>
                            <a href="#">立即注册</a>
                        </div>
                        <div class="login-three">
                            <span>使用第三方登陆</span>
                            <div class="login-icon">
                                <a href="">
                                    <img src="/images/qq.png" alt="">
                                </a>
                                <a href="">
                                    <img src="/images/wechat.png" alt="">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 注册 -->
                <div class="dom">
                    <form action=" /register" method="POST" id="register">
                        <div class="s1">
                            <h4>用户名</h4>
                            <input type="email" name="email" placeholder="邮箱">
                        </div>
                        <div class="s1">
                            <h4>用户名</h4>
                            <input type="text" name="username" placeholder="用户名">
                        </div>
                        <div class="s1">
                            <h4>密码</h4>
                            <input type="password" name="password" placeholder="请输入密码">
                        </div>
                        <div class="s1">
                            <h4>确认密码</h4>
                            <input type="password" name="ispassword" placeholder="请输入密码">
                        </div>
                        <input type="submit" class="btn" id="btn" disabled=true style="cursor: not-allowed;"
                            value="注&nbsp;册">
                    </form>
                </div>
            </div>
        </section>

    </div>




    <script>
        var form = document.querySelector('#register');
        var inputs = document.querySelectorAll('#register input');
        var btn = document.querySelector('#btn');

        form.oninput = function () {
            // 控制注册按钮是否可以点击
            var isable = true;
            // 判断内容是否为空
            inputs.forEach((item, i) => {
                if (item.value == '') {
                    isable = false;
                }
            })

            // 正则匹配邮箱是否符合格式
            let reg = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;


            // 判断两次密码输入是否一样
            // 判断邮箱的格式是否符合要求
            if (inputs[2].value == inputs[3].value && isable == true && reg.test(inputs[0].value)) {
                btn.disabled = false;
                btn.style.cursor = 'pointer';
            } else {
                btn.disabled = true;
                btn.style.cursor = 'not-allowed';
            }
        }

        $(function () {
            let as = document.getElementsByClassName('content-header')[0].getElementsByTagName('a');
            console.log(as);
            let contents = document.getElementsByClassName('dom');

            // 1.2 遍历
            for (let i = 0; i < as.length; i++) {
                // 1.2.1 取出单个对象
                let a = as[i];
                a.id = i;

                // 1.2.2 监听鼠标的移动事件
                a.onclick = function () {
                    // 让所有的a的class都清除
                    for (let j = 0; j < as.length; j++) {
                        as[j].className = '';
                        contents[j].style.display = 'none';
                    }

                    // 设置当前a的class
                    this.className = 'current';
                    // 从contents数组中取出对应的标签
                    contents[this.id].style.display = 'block';
                }

            }
        })
    </script>

</body>

</html>